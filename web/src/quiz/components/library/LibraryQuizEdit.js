import { useEffect, useState } from "react";
import { Link, useLocation, useNavigate, useParams } from "react-router-dom";
import { useDispatch, useSelector } from "react-redux";
import { Button, Card, Col, Container, Modal, Row } from "react-bootstrap";
import QuizForm from "./QuizForm";
import QuestionCard from "../../layouts/QuestionCard";
import { deleteUserQuizQuestion, getUserQuizQuestions } from "../../services";

function DeleteModal({ show, onYes, onNo }) {
    return (
        <Modal show={show} size="md" aria-labelledby="contained-modal-title-vcenter" centered>
            <Modal.Header closeButton>
                <Modal.Title id="contained-modal-title-vcenter">Delete Question</Modal.Title>
            </Modal.Header>
            <Modal.Body>
                <p>Are you sure you want to delete this question?</p>
            </Modal.Body>
            <Modal.Footer>
                <Button variant="primary" onClick={onNo}>
                    No
                </Button>
                <Button variant="danger" onClick={onYes}>
                    Yes
                </Button>
            </Modal.Footer>
        </Modal>
    );
}

const LibraryQuizEdit = () => {
    const cachedUser = useSelector(state => state.user);
    const cachedQuestions = useSelector(state => state.questions);
    const [{ questions, loading, error }, setState] = useState({});
    const dispatch = useDispatch();
    const navigate = useNavigate();
    const { quizId } = useParams();
    const location = useLocation();
    const [modal, setModal] = useState({ show: false, id: 0 });

    const onModalYes = () => {
        deleteUserQuizQuestion(cachedUser.token, cachedUser.id, quizId, modal.id,
            () => {
                dispatch({ type: "QUESTIONS_DEL", userId: cachedUser.id, quizId: parseInt(quizId, 10), id: modal.id });
                dispatch({ type: "USER_QUIZZES_SET_QUESTION_COUNT", userId: cachedUser.id, quizId: parseInt(quizId, 10), question_count: cachedQuestions.questions[quizId].length });
                setState({ questions: cachedQuestions.questions[quizId], loading: false, error: null });
            },
            res => console.log(res)
        );
        setModal({ show: false });
    };

    useEffect(() => {
        if (quizId) {
            if (cachedQuestions.questions[quizId] && cachedQuestions.questions[quizId].length > 0) {
                dispatch({ type: "USER_QUIZZES_SET_QUESTION_COUNT", userId: cachedUser.id, quizId: parseInt(quizId, 10), question_count: cachedQuestions.questions[quizId].length });
                setState({ questions: cachedQuestions.questions[quizId], loading: false, error: null });
                return;
            }
            setState({ loading: true, error: null });
            return getUserQuizQuestions(cachedUser.token, cachedUser.id, quizId,
                data => {
                    setState({ questions: data, loading: false, error: null });
                    dispatch({ type: "QUESTIONS_SET", quizId: quizId, questions: data });
                },
                res => setState({ loading: false, error: res })
            );
        }
    }, [cachedUser.id, quizId]);

    const onSave = data => {
        if (!quizId) {
            navigate(`/quiz/library/${data.id}/edit`, { state: { quiz: data } });
        }
    };

    const newQuestionStyle = {
        display: "flex",
        alignItems: "center",
        justifyContent: "center",
        textDecoration: "none",
        color: "black",
        flexDirection: "column",
        textAlign: "center",
        minWidth: "140px",
    };

    const buttonStyle = {
        marginBottom: "10px",
        color: "white",
    };

    return (
        <Container className="content px-3" style={{ maxWidth: "1000px" }}>
            <Row style={{ marginBottom: "25px" }}>
                <Col xs={"auto"} className="d-flex align-items-center justify-content-center">
                    <Button as={Link} to={`/quiz/library`}>
                        Back
                    </Button>
                </Col>
                <Col className="d-flex align-items-center justify-content-center">
                    <h1>Quiz</h1>
                </Col>
            </Row>
            <QuizForm quiz={quizId ? location.state.quiz : { user_id: cachedUser.id, name: "", description: "", public: 0 }} onSave={onSave} onCancel={`/library`} />
            {quizId && <h3 style={{ marginTop: "25px", marginBottom: "25px" }}>Questions</h3>}
            {quizId && error && <div>{error}</div>}
            {quizId && loading && <div>Loading...</div>}
            {quizId && questions && (
                <Row xs={1} className="g-4">
                    {questions &&
                        questions.map((question, i) => (
                            <Col key={question.id} className="d-flex justify-content-center">
                                <QuestionCard index={i} question={question} onEdit={`/library/${quizId}/questions/${question.id}/edit`} onDelete={() => setModal({ show: true, id: question.id })} />
                            </Col>
                        ))}
                    <Col key={0} className="d-flex justify-content-center">
                        <Card className="w-100">
                            <Card.Body className="d-flex align-items-center justify-content-center">
                                <Row xs={3} className="gy-4 align-items-start justify-content-center" style={{ maxWidth: "500px", marginTop: "8px", marginBottom: "20px" }}>
                                    <Col as={Link} to={`/quiz/library/${quizId}/questions/create`} state={{ type: 1 }} style={newQuestionStyle}>
                                        <Button variant="primary" className="p-1 icon-button d-flex align-items-center justify-content-center" style={buttonStyle}>
                                            <svg width="48" height="48" version="1.1" viewBox="0 0 12.7 12.7" xmlns="http://www.w3.org/2000/svg">
                                                <path d="m5.0608 10.03 6.7514-0.039567m-10.677-1.2511h2.732v2.6981h-2.732zm3.9257-2.5405 6.7514-0.039568m-10.677-1.1988h2.732v2.7242h-2.732zm3.9257-2.5665 6.7514-0.039568m-10.196 4.0223 0.77301 0.64904 1.035-1.3689m-1.795-3.28 0.77301 0.64904 1.035-1.3689m-2.3025-0.7362h2.732v2.7503h-2.732z" fill="none" stroke="#FFF" strokeWidth=".41798" />
                                            </svg>
                                        </Button>
                                        Multiple answer
                                    </Col>
                                    <Col as={Link} to={`/quiz/library/${quizId}/questions/create`} state={{ type: 2 }} style={newQuestionStyle}>
                                        <Button variant="primary" className="p-1 icon-button d-flex align-items-center justify-content-center" style={buttonStyle}>
                                            <svg width="48" height="48" version="1.1" viewBox="0 0 12.7 12.7" xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="m4.0924 9.8517a1.4607 1.4607 0 0 1-1.4607 1.4607 1.4607 1.4607 0 0 1-1.4607-1.4607 1.4607 1.4607 0 0 1 1.4607-1.4607 1.4607 1.4607 0 0 1 1.4607 1.4607zm-0.011173-3.5418a1.4607 1.4607 0 0 1-1.4607 1.4607 1.4607 1.4607 0 0 1-1.4607-1.4607 1.4607 1.4607 0 0 1 1.4607-1.4607 1.4607 1.4607 0 0 1 1.4607 1.4607zm0-3.8115a1.4607 1.4607 0 0 1-1.4607 1.4607 1.4607 1.4607 0 0 1-1.4607-1.4607 1.4607 1.4607 0 0 1 1.4607-1.4607 1.4607 1.4607 0 0 1 1.4607 1.4607zm0.94629 7.5433 6.6901-0.0392m-6.6899-3.757 6.6901-0.039209m-6.6899-3.7312 6.6901-0.039209"
                                                    fill="none"
                                                    stroke="#FFF"
                                                    strokeWidth=".41543"
                                                />
                                                <circle fill="#FFF" cx="2.6058" cy="6.3097" r=".73272" strokeWidth=".84581" />
                                            </svg>
                                        </Button>
                                        Multiple choice
                                    </Col>
                                    <Col as={Link} to={`/quiz/library/${quizId}/questions/create`} state={{ type: 5 }} style={newQuestionStyle}>
                                        <Button variant="primary" className="p-1 icon-button d-flex align-items-center justify-content-center" style={buttonStyle}>
                                            <svg width="48" height="48" version="1.1" viewBox="0 0 12.7 12.7" xmlns="http://www.w3.org/2000/svg">
                                                <rect x="1.4449" y="4.2708" width="9.781" height="3.7901" ry="0" fill="none" stroke="#FFF" strokeWidth=".34925" />
                                                <g transform="translate(-.3242 .34581)" strokeWidth=".09053" aria-label="123">
                                                    <path
                                                        fill="#FFF"
                                                        d="m8.3322 5.8677q0.084872 0.076031 0.13968 0.19096t0.054813 0.29705q0 0.18035-0.065422 0.33065-0.065422 0.15029-0.18389 0.26169-0.13261 0.12377-0.31296 0.18389-0.17858 0.058349-0.39253 0.058349-0.21925 0-0.43143-0.053045-0.21218-0.051276-0.34833-0.11316v-0.36955h0.026522q0.15029 0.099017 0.35363 0.16444 0.20334 0.065422 0.39253 0.065422 0.11139 0 0.23693-0.037131t0.20334-0.10963q0.081336-0.077799 0.12024-0.17151 0.040668-0.093713 0.040668-0.23693 0-0.14145-0.045972-0.2334-0.044204-0.093713-0.12377-0.14676-0.079567-0.054813-0.19273-0.074263-0.11316-0.021218-0.24401-0.021218h-0.15913v-0.29352h0.12377q0.26876 0 0.4279-0.11139 0.1609-0.11316 0.1609-0.32888 0-0.095481-0.040668-0.16621-0.040668-0.072495-0.11316-0.11847-0.076031-0.045972-0.16267-0.063654-0.08664-0.017682-0.19627-0.017682-0.16798 0-0.35717 0.060118t-0.35717 0.16974h-0.017682v-0.36955q0.12554-0.061886 0.33418-0.11316 0.21041-0.053045 0.40668-0.053045 0.19273 0 0.33949 0.035363t0.26522 0.11316q0.12731 0.084872 0.19273 0.20511 0.065422 0.12024 0.065422 0.28114 0 0.21925-0.1556 0.38369-0.15383 0.16267-0.36424 0.20511v0.024754q0.084872 0.014145 0.1945 0.060118 0.10963 0.044204 0.18566 0.11139zm-2.0705 1.2678h-1.7823v-0.36955q0.18566-0.15913 0.37131-0.31827 0.18743-0.15913 0.34833-0.3165 0.33949-0.32888 0.46503-0.52161 0.12554-0.1945 0.12554-0.41905 0-0.20511-0.13615-0.32004-0.13438-0.1167-0.37662-0.1167-0.1609 0-0.34833 0.056581t-0.36601 0.17328h-0.017682v-0.37131q0.12554-0.061886 0.33418-0.11316 0.21041-0.051277 0.40668-0.051277 0.40491 0 0.63477 0.19627 0.22986 0.1945 0.22986 0.52868 0 0.15029-0.0389 0.28114-0.037131 0.12908-0.11139 0.24578-0.068958 0.10963-0.16267 0.21572-0.091944 0.10609-0.22456 0.23517-0.18919 0.18566-0.39076 0.36071-0.20157 0.17328-0.37662 0.32181h1.4163zm-2.4524 0h-1.4251v-0.26876h0.54813v-1.7646h-0.54813v-0.24047q0.11139 0 0.2387-0.017682 0.12731-0.01945 0.19273-0.054813 0.081336-0.044204 0.12731-0.11139 0.04774-0.068958 0.054813-0.18389h0.27407v2.3729h0.53752z"
                                                    />
                                                </g>
                                            </svg>
                                        </Button>
                                        Number
                                    </Col>
                                    <Col as={Link} to={`/quiz/library/${quizId}/questions/create`} state={{ type: 7 }} style={newQuestionStyle}>
                                        <Button variant="primary" className="p-1 icon-button d-flex align-items-center justify-content-center" style={buttonStyle}>
                                            <svg width="48" height="48" version="1.1" viewBox="0 0 12.7 12.7" xmlns="http://www.w3.org/2000/svg">
                                                <rect x="1.4455" y="4.2545" width="9.7811" height="3.7901" ry="0" fill="none" stroke="#FFF" strokeWidth=".34925" />
                                                <g transform="translate(-.23774 .3242)" strokeWidth=".09053" aria-label="abc">
                                                    <path
                                                        fill="#FFF"
                                                        d="m8.4169 6.9964q-0.16621 0.079567-0.3165 0.12377-0.14853 0.044204-0.3165 0.044204-0.21395 0-0.39253-0.061886-0.17858-0.063654-0.30589-0.19096-0.12908-0.12731-0.1998-0.32181-0.070727-0.1945-0.070727-0.45442 0-0.48448 0.26522-0.76031 0.26699-0.27583 0.70373-0.27583 0.16974 0 0.33241 0.04774 0.16444 0.04774 0.30059 0.1167v0.36955h-0.017682q-0.15206-0.11847-0.31473-0.18212-0.1609-0.063654-0.31473-0.063654-0.28291 0-0.44735 0.19096-0.16267 0.18919-0.16267 0.55697 0 0.35717 0.15913 0.5499 0.1609 0.19096 0.45088 0.19096 0.10079 0 0.20511-0.026522t0.18743-0.068958q0.072495-0.037131 0.13615-0.077799 0.063654-0.042436 0.10079-0.072495h0.017682zm-1.9786-0.87878q0 0.24754-0.070727 0.44558-0.068958 0.19803-0.18743 0.33241-0.12554 0.13968-0.27583 0.21041-0.15029 0.068958-0.33065 0.068958-0.16798 0-0.29352-0.040668-0.12554-0.0389-0.24754-0.10609l-0.021218 0.091945h-0.3112v-2.7513h0.33241v0.9831q0.13968-0.11493 0.29705-0.18743 0.15737-0.074263 0.35363-0.074263 0.3501 0 0.55167 0.26876 0.20334 0.26876 0.20334 0.75854zm-0.34302 0.00884q0-0.35363-0.1167-0.53575-0.1167-0.18389-0.37662-0.18389-0.14499 0-0.29352 0.063654-0.14853 0.061886-0.27583 0.1609v1.1316q0.14145 0.063654 0.24224 0.088408 0.10255 0.024754 0.23163 0.024754 0.27583 0 0.43143-0.18035 0.15737-0.18212 0.15737-0.56935zm-2.0352 0.99371h-0.33065v-0.21041q-0.044204 0.030059-0.12024 0.084872-0.074263 0.053045-0.14499 0.084872-0.083104 0.040668-0.19096 0.06719-0.10786 0.028291-0.25285 0.028291-0.26699 0-0.45265-0.17682t-0.18566-0.45088q0-0.22456 0.095481-0.36247 0.097249-0.13968 0.27583-0.21925 0.18035-0.079567 0.4332-0.10786t0.54283-0.042436v-0.051277q0-0.11316-0.040668-0.18743-0.0389-0.074263-0.11316-0.1167-0.070727-0.040668-0.16974-0.054813-0.099017-0.014145-0.20688-0.014145-0.13084 0-0.29175 0.035363-0.1609 0.033595-0.33241 0.099017h-0.017682v-0.33772q0.097249-0.026523 0.28114-0.05835 0.18389-0.031827 0.36247-0.031827 0.20864 0 0.36247 0.035363 0.1556 0.033595 0.26876 0.1167 0.11139 0.081335 0.16974 0.21041 0.05835 0.12908 0.05835 0.32004zm-0.33065-0.48625v-0.5499q-0.15206 0.00884-0.35894 0.026522-0.20511 0.017682-0.32534 0.051277-0.14322 0.040668-0.23163 0.12731-0.088408 0.084872-0.088408 0.23517 0 0.16974 0.10255 0.25638 0.10255 0.084872 0.31296 0.084872 0.17505 0 0.32004-0.06719 0.14499-0.068958 0.26876-0.16444z"
                                                    />
                                                </g>
                                            </svg>
                                        </Button>
                                        Short answer
                                    </Col>
                                    <Col as={Link} to={`/quiz/library/${quizId}/questions/create`} state={{ type: 6 }} style={newQuestionStyle}>
                                        <Button variant="primary" className="p-1 icon-button d-flex align-items-center justify-content-center" style={buttonStyle}>
                                            <svg width="48" height="48" version="1.1" viewBox="0 0 12.7 12.7" xmlns="http://www.w3.org/2000/svg">
                                                <path d="m2.3535 8.864h7.5191m-7.4733-2.0479h5.349m-5.349-2.1702h5.3471m-5.3012-1.8339h7.5497m-8.9484-1.796h10.622v10.592h-10.622z" fill="none" stroke="#FFF" strokeWidth=".52917" />
                                            </svg>
                                        </Button>
                                        Open
                                    </Col>
                                    <Col as={Link} to={`/quiz/library/${quizId}/questions/create`} state={{ type: 3 }} style={newQuestionStyle}>
                                        <Button variant="primary" className="p-1 icon-button d-flex align-items-center justify-content-center" style={buttonStyle}>
                                            <svg width="48" height="48" version="1.1" viewBox="0 0 12.7 12.7" xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="m1.9902 1.5268c-0.53109 0-0.95853 0.38765-0.95853 0.86916v2.1336c0 0.48151 0.42744 0.86916 0.95853 0.86916h8.7969c0.53109 2e-7 0.95897-0.38765 0.95897-0.86916v-2.1336c0-0.48151-0.42788-0.86916-0.95897-0.86916zm0.40429 0.86161h1.7526v0.38412h-0.6202v1.6018h-0.51216v-1.6018h-0.6202zm2.0607 0h0.85894c0.11737 0 0.21829 0.00667 0.30276 0.020006 0.084471 0.013337 0.16361 0.042235 0.23741 0.086694 0.07469 0.044458 0.13382 0.10225 0.17739 0.17339 0.044458 0.070245 0.066688 0.15872 0.066688 0.26542 0 0.14671-0.034233 0.26631-0.1027 0.35878-0.067577 0.092474-0.1645 0.16939-0.29076 0.23074l0.66288 0.85094h-0.62553l-0.5415-0.72823h-0.23607v0.72823h-0.50949zm2.1087 0h0.51483v1.2391c0 0.13782 0.028898 0.24052 0.086694 0.3081s0.1516 0.10137 0.28142 0.10137c0.12804 0 0.2214-0.032455 0.28009-0.097364 0.059574-0.06491 0.089362-0.16894 0.089362-0.3121v-1.2391h0.51483v1.2671c0 0.24541-0.074691 0.43347-0.22407 0.56418-0.14938 0.13071-0.36945 0.19606-0.66021 0.19606s-0.51083-0.065353-0.66021-0.19606c-0.14849-0.13071-0.22274-0.31832-0.22274-0.56285zm2.246 0h1.4365v0.38412h-0.92696v0.34278h0.86027v0.38412h-0.86027v0.49082h0.92696v0.38412h-1.4365zm-3.8452 0.36545v0.53484h0.15738c0.081804 0 0.15027-4e-3 0.2054-0.012004 0.055129-8e-3 0.10137-0.026231 0.13871-0.054684 0.035566-0.027564 0.061353-0.057795 0.077358-0.090695 0.016895-0.033788 0.025342-0.078692 0.025342-0.13471 0-0.049794-0.010226-0.092474-0.030677-0.12804-0.020451-0.035567-0.055573-0.063575-0.10537-0.084027-0.034677-0.014227-0.075135-0.022674-0.12137-0.025342-0.046237-0.0035574-0.10003-0.0053314-0.16138-0.0053314zm-2.9913 4.1813c-0.53109 0-0.95853 0.38765-0.95853 0.86916v2.1331c0 0.48151 0.42744 0.86916 0.95853 0.86916h8.7969c0.53109 0 0.95897-0.38765 0.95897-0.86916v-2.1331c0-0.48151-0.42788-0.86916-0.95897-0.86916zm6.382 0.92607c0.13071 0 0.25964 0.012893 0.38679 0.038679 0.12804 0.024897 0.23874 0.056462 0.33211 0.094696v0.45748h-0.054684c-0.080025-0.06402-0.17828-0.11737-0.29476-0.16005-0.11559-0.04357-0.23385-0.065354-0.35478-0.065354-0.04268 0-0.085361 0.00311-0.12804 0.00933-0.041791 0.00533-0.082249 0.016005-0.12137 0.03201-0.034677 0.013337-0.064465 0.033788-0.089362 0.061353-0.024897 0.026675-0.037345 0.057352-0.037345 0.09203 0 0.052461 0.020007 0.092918 0.060019 0.12137 0.040013 0.027564 0.11559 0.052906 0.22674 0.076025 0.072912 0.015116 0.14271 0.029787 0.2094 0.044014 0.067577 0.014227 0.14004 0.033789 0.2174 0.058685 0.15205 0.049794 0.26408 0.11782 0.33611 0.20406 0.072911 0.085361 0.10937 0.19651 0.10937 0.33344 0 0.19562-0.083138 0.35478-0.24941 0.47748-0.16539 0.12182-0.39035 0.18272-0.67488 0.18272-0.1645 0-0.3081-0.01423-0.4308-0.04268-0.12182-0.029341-0.23607-0.06624-0.34278-0.1107v-0.47615h0.056018c0.10581 0.084467 0.22407 0.14938 0.35478 0.19473 0.1316 0.045348 0.25786 0.068017 0.37879 0.068017 0.031122 0 0.072023-0.00267 0.12271-8e-3 0.050682-0.00533 0.09203-0.01423 0.12404-0.026679 0.039123-0.016002 0.071134-0.036013 0.09603-0.060016 0.025786-0.024012 0.038679-0.059578 0.038679-0.1067 0-0.043566-0.018672-0.080913-0.056017-0.11203-0.036456-0.032007-0.090252-0.056459-0.16138-0.073353-0.07469-0.017783-0.15383-0.034233-0.23741-0.049349-0.082693-0.016005-0.1605-0.036012-0.23341-0.060019-0.16716-0.054239-0.28765-0.1276-0.36145-0.22007-0.072912-0.093363-0.10937-0.20896-0.10937-0.34678 0-0.18495 0.082693-0.33566 0.24808-0.45214 0.16627-0.11737 0.37968-0.17606 0.6402-0.17606zm-6.43 0.036011h1.4231v0.38412h-0.91362v0.36945h0.84693v0.38412h-0.84693v0.84827h-0.50949zm2.2887 0h0.58952l0.73357 1.986h-0.5295l-0.13738-0.40146h-0.73623l-0.13738 0.40146h-0.51616zm1.6085 0h0.51216v1.6018h0.92029v0.38412h-1.4325zm3.6812 0h1.4365v0.38412h-0.92696v0.34278h0.86027v0.38412h-0.86027v0.49082h0.92696v0.38412h-1.4365zm-5.0016 0.50816-0.24408 0.71223h0.48815z"
                                                    strokeWidth=".22763"
                                                    fill="#FFF"
                                                />
                                            </svg>
                                        </Button>
                                        True/False
                                    </Col>
                                    <Col as={Link} to={`/quiz/library/${quizId}/questions/create`} state={{ type: 4 }} style={newQuestionStyle}>
                                        <Button variant="primary" className="p-1 icon-button d-flex align-items-center justify-content-center" style={buttonStyle}>
                                            <svg width="48" height="48" version="1.1" viewBox="0 0 12.7 12.7" xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    transform="scale(.26458)"
                                                    d="m10.43 5.5449c-1.8102 0-3.2676 1.4574-3.2676 3.2676v8.0215c0 1.8102 1.4574 3.2676 3.2676 3.2676h27.43c1.8102 1e-6 3.2676-1.4574 3.2676-3.2676v-8.0215c0-1.8102-1.4574-3.2676-3.2676-3.2676h-27.43zm22.977 2.4668c0.57422 0 1.1406 0.056641 1.6992 0.16992 0.5625 0.10938 1.0488 0.24805 1.459 0.41602v2.0098h-0.24023c-0.35156-0.28125-0.7832-0.51562-1.2949-0.70313-0.50781-0.19141-1.0273-0.28711-1.5586-0.28711-0.1875 0-0.375 0.013672-0.5625 0.041016-0.18359 0.023438-0.36133 0.070312-0.5332 0.14062-0.15234 0.058594-0.2832 0.14844-0.39258 0.26953-0.10938 0.11719-0.16406 0.25195-0.16406 0.4043 0 0.23047 0.087891 0.4082 0.26367 0.5332 0.17578 0.12109 0.50781 0.23242 0.99609 0.33398 0.32031 0.066406 0.62695 0.13086 0.91992 0.19336 0.29688 0.0625 0.61523 0.14844 0.95508 0.25781 0.66797 0.21875 1.1602 0.51758 1.4766 0.89648 0.32031 0.375 0.48047 0.86328 0.48047 1.4648 0 0.85938-0.36523 1.5586-1.0957 2.0977-0.72656 0.53516-1.7148 0.80273-2.9648 0.80273-0.72266 0-1.3535-0.0625-1.8926-0.1875-0.53516-0.12891-1.0371-0.29102-1.5059-0.48633v-2.0918h0.24609c0.46484 0.37109 0.98438 0.65625 1.5586 0.85547 0.57812 0.19922 1.1328 0.29883 1.6641 0.29883 0.13672 0 0.31641-0.011719 0.53906-0.035156 0.22266-0.023437 0.4043-0.0625 0.54492-0.11719 0.17188-0.070311 0.3125-0.1582 0.42188-0.26367 0.11328-0.10547 0.16992-0.26172 0.16992-0.46875 0-0.19141-0.082031-0.35547-0.24609-0.49219-0.16016-0.14062-0.39648-0.24805-0.70898-0.32226-0.32812-0.078125-0.67578-0.15039-1.043-0.2168-0.36328-0.070313-0.70508-0.1582-1.0254-0.26367-0.73438-0.23828-1.2637-0.56055-1.5879-0.9668-0.32031-0.41016-0.48047-0.91797-0.48047-1.5234 0-0.8125 0.36328-1.4746 1.0898-1.9863 0.73047-0.51562 1.668-0.77344 2.8125-0.77344zm-21.58 0.1582h2.5547l1.8867 3.375 1.8223-3.375h2.4727l-3.2168 5.3496v3.375h-2.25v-3.2695l-3.2695-5.4551zm9.9023 0h6.3105v1.6875h-4.0723v1.5059h3.7793v1.6875h-3.7793v2.1562h4.0723v1.6875h-6.3105v-8.7246zm-11.355 17.707c-1.8102 0-3.2676 1.4574-3.2676 3.2676v8.0195c0 1.8102 1.4574 3.2676 3.2676 3.2676h27.43c1.8102 0 3.2676-1.4574 3.2676-3.2676v-8.0195c0-1.8102-1.4574-3.2676-3.2676-3.2676h-27.43zm18.977 2.7344c1.3984 0 2.498 0.4082 3.2988 1.2246 0.80078 0.8125 1.2012 1.9199 1.2012 3.3223 0 1.3906-0.39844 2.4961-1.1953 3.3164-0.79688 0.81641-1.8984 1.2246-3.3047 1.2246-1.4023 0-2.502-0.4082-3.2988-1.2246-0.79688-0.82031-1.1953-1.9258-1.1953-3.3164 0-1.4023 0.39844-2.5098 1.1953-3.3223 0.79688-0.81641 1.8965-1.2246 3.2988-1.2246zm-14.145 0.18164h2.6895l3.1816 4.998v-4.998h2.0625v8.7246h-2.168l-3.7031-5.9883v5.9883h-2.0625v-8.7246zm14.15 1.4648c-0.28516 0-0.55469 0.050782-0.80859 0.15234-0.25 0.10156-0.48047 0.26953-0.69141 0.50391-0.19531 0.21875-0.35547 0.52148-0.48047 0.9082-0.12109 0.38281-0.18164 0.82812-0.18164 1.3359 0 0.51953 0.058594 0.96289 0.17578 1.3301 0.12109 0.36328 0.2793 0.66016 0.47461 0.89062 0.19531 0.23047 0.42383 0.40039 0.68555 0.50977s0.53711 0.16406 0.82617 0.16406c0.28906 0 0.56445-0.054687 0.82617-0.16406 0.26172-0.11328 0.49023-0.28711 0.68555-0.52148 0.21875-0.26562 0.38086-0.57813 0.48633-0.9375 0.10547-0.36328 0.1582-0.78906 0.1582-1.2773 0-0.52344-0.060547-0.96875-0.18164-1.3359-0.12109-0.36719-0.2793-0.66406-0.47461-0.89062-0.19922-0.23438-0.42969-0.4043-0.69141-0.50976-0.25781-0.10547-0.52734-0.1582-0.80859-0.1582z"
                                                    fill="#FFF"
                                                />
                                            </svg>
                                        </Button>
                                        Yes/No
                                    </Col>
                                    <Col as={Link} to={`/quiz/library/${quizId}/questions/create`} state={{ type: 8 }} style={newQuestionStyle}>
                                        <Button variant="primary" className="p-1 icon-button d-flex align-items-center justify-content-center" style={buttonStyle}>
                                            <svg width="48" height="48" version="1.1" viewBox="0 0 12.7 12.7" xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    transform="scale(.26458)"
                                                    d="m6.7539 18.311c-2.2381 0-4.0391 1.4574-4.0391 3.2676v8.0215c0 1.8102 1.801 3.2676 4.0391 3.2676h33.914c2.2381 1e-6 4.041-1.4574 4.041-3.2676v-8.0215c0-1.8102-1.8029-3.2676-4.041-3.2676h-33.914zm19.482 3.1543c1.2081 0 2.1578 0.35328 2.8496 1.0586 0.69182 0.70194 1.0371 1.6576 1.0371 2.8691 0 1.2014-0.34281 2.1565-1.0312 2.8652-0.68844 0.70532-1.6406 1.0586-2.8555 1.0586-1.2115 0-2.1612-0.35328-2.8496-1.0586-0.68844-0.70869-1.0332-1.6638-1.0332-2.8652 0-1.2115 0.34476-2.1672 1.0332-2.8691 0.68844-0.70532 1.6381-1.0586 2.8496-1.0586zm-16.482 0.019531c0.49608 0 0.98617 0.050571 1.4687 0.14844 0.48596 0.094493 0.90542 0.21426 1.2598 0.35938v1.7363h-0.20703c-0.30372-0.24298-0.67705-0.44544-1.1191-0.60742-0.43871-0.16536-0.8887-0.24805-1.3477-0.24805-0.16199 0-0.32239 0.011533-0.48438 0.035156-0.15861 0.020248-0.31245 0.060349-0.46094 0.12109-0.13161 0.050621-0.24535 0.12781-0.33984 0.23242-0.094492 0.10124-0.14062 0.218-0.14062 0.34961 0 0.19911 0.0747 0.35295 0.22656 0.46094 0.15186 0.10462 0.43949 0.20132 0.86133 0.28906 0.27673 0.05737 0.54182 0.11202 0.79492 0.16602 0.25648 0.053995 0.53062 0.12816 0.82422 0.22266 0.57708 0.18898 1.002 0.44804 1.2754 0.77539 0.27673 0.32397 0.41602 0.74592 0.41602 1.2656 0 0.74244-0.31619 1.3448-0.94727 1.8105-0.6277 0.46234-1.4806 0.69531-2.5605 0.69531-0.62432 0-1.1691-0.054118-1.6348-0.16211-0.46234-0.11137-0.89777-0.25314-1.3027-0.42188v-1.8066h0.21289c0.40159 0.3206 0.85157 0.56812 1.3477 0.74023 0.49946 0.17211 0.97854 0.25781 1.4375 0.25781 0.11812 0 0.27248-0.011002 0.46484-0.03125 0.19236-0.020248 0.34921-0.054317 0.4707-0.10156 0.14849-0.060745 0.27074-0.13544 0.36524-0.22656 0.097866-0.091117 0.14648-0.22739 0.14648-0.40625 0-0.16536-0.071153-0.30571-0.21289-0.42383-0.13836-0.12149-0.34135-0.21518-0.61133-0.2793-0.28348-0.067494-0.58512-0.13013-0.90234-0.1875-0.31385-0.060745-0.60804-0.13544-0.88477-0.22656-0.63445-0.20586-1.0929-0.48497-1.373-0.83594-0.27673-0.35434-0.41406-0.79332-0.41406-1.3164 0-0.70194 0.31371-1.2728 0.94141-1.7148 0.63107-0.44546 1.4409-0.66992 2.4297-0.66992zm4.3574 0.13672h1.9453v2.7598h2.8691v-2.7598h1.9434v7.5391h-1.9434v-3.3223h-2.8691v3.3223h-1.9453v-7.5391zm16.867 0h2.0312l1.1582 5.1895 1.3867-5.1895h1.9395l1.3203 5.1895 1.2148-5.1895h1.9805l-2.0312 7.5391h-2.1504l-1.3516-4.9102-1.3164 4.9102h-2.1504l-2.0312-7.5391zm-4.7383 1.2656c-0.24635 0-0.47791 0.04507-0.69726 0.13281-0.21598 0.087743-0.41542 0.23306-0.59766 0.43555-0.16874 0.18898-0.30802 0.44911-0.41602 0.7832-0.10462 0.33072-0.15625 0.71558-0.15625 1.1543 0 0.44884 0.051102 0.83317 0.15234 1.1504 0.10462 0.31385 0.24142 0.57042 0.41016 0.76953s0.36569 0.34496 0.5918 0.43945 0.46316 0.14258 0.71289 0.14258 0.48874-0.048086 0.71484-0.14258c0.22611-0.097867 0.42306-0.24869 0.5918-0.45117 0.18898-0.22948 0.3288-0.49812 0.41992-0.80859 0.091117-0.31385 0.13672-0.68168 0.13672-1.1035 0-0.45221-0.051634-0.83707-0.15625-1.1543-0.10462-0.31722-0.24142-0.5738-0.41016-0.76953-0.17211-0.20248-0.37155-0.35029-0.59766-0.44141-0.22273-0.091118-0.45624-0.13672-0.69922-0.13672z"
                                                    fill="#FFF"
                                                />
                                            </svg>
                                        </Button>
                                        Show answer
                                    </Col>
                                    <Col as={Link} to={`/quiz/library/${quizId}/questions/create`} state={{ type: 9 }} style={newQuestionStyle}>
                                        <Button variant="primary" className="p-1 icon-button d-flex align-items-center justify-content-center" style={buttonStyle}>
                                            <svg width="48" height="48" version="1.1" viewBox="0 0 12.7 12.7" xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    transform="scale(.26458)"
                                                    d="m6.7539 16.982c-2.2381 0-4.0391 1.5891-4.0391 3.5645v8.7539c0 1.9754 1.801 3.5664 4.0391 3.5664h33.914c2.2381 1e-6 4.041-1.591 4.041-3.5664v-8.7539c0-1.9754-1.8029-3.5645-4.041-3.5645h-33.914zm0.57227 3.752h2.5957l3.0723 4.8242v-4.8242h1.9922v8.4219h-2.0938l-3.5742-5.7812v5.7812h-1.9922v-8.4219zm9.8086 0h6.0938v1.6289h-3.9316v1.4531h3.6484v1.6289h-3.6484v2.082h3.9316v1.6289h-6.0938v-8.4219zm7.0371 0h2.5078l1.752 2.625 1.8047-2.625h2.4043l-2.9414 4.0957 2.9863 4.3262h-2.5117l-1.8145-2.7715-1.8496 2.7715h-2.3984l2.9863-4.2422-2.9258-4.1797zm8.8828 0h7.4336v1.6289h-2.6309v6.793h-2.1719v-6.793h-2.6309v-1.6289z"
                                                    strokeWidth="1.0446"
                                                    fill="#FFF"
                                                />
                                            </svg>
                                        </Button>
                                        No answer
                                    </Col>
                                </Row>
                            </Card.Body>
                        </Card>
                    </Col>
                </Row>
            )}
            <DeleteModal show={modal.show} onYes={onModalYes} onNo={() => setModal({ show: false })} />
        </Container>
    );
};

export default LibraryQuizEdit;
